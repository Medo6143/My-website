<section #projectsSection class="relative bg-transparent text-white overflow-hidden z-20">

    <!-- Cinematic Title Scene (Sticky before scroll starts) -->
    <div class="h-screen w-full flex flex-col items-center justify-center relative z-10 px-6">
        <h2 #sectionTitle
            class="text-[12vw] font-black leading-none tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-white to-white/20 opacity-0 scale-50 heading-glow visible">
            Selected Works
        </h2>
        <div #titleSubtitle class="mt-8 flex flex-col items-center opacity-0 translate-y-10">
            <div class="h-px w-24 bg-brand-primary mb-6 shadow-[0_0_15px_#00f0ff]"></div>
            <p class="text-xl md:text-3xl font-light tracking-widest uppercase">
                Not Just Projects. <span class="text-brand-primary font-medium italic">Digital Experiences.</span>
            </p>
        </div>
    </div>

    <!-- The Horizontal Scroll Track -->
    <div #horizontalScrollContainer class="relative h-screen flex border-t border-b border-white/5 bg-transparent">

        <!-- Deep Parallax Background during scroll -->
        <div class="absolute inset-0 z-0 pointer-events-none opacity-20"
            style="background-image: radial-gradient(circle at center, rgba(0,240,255,0.1) 0%, transparent 70%);">
        </div>

        <div #projectsTrack class="flex items-center h-full px-[10vw] gap-20 relative z-10 w-max">

            <!-- Movie Poster Cards -->
            <div *ngFor="let project of projects; let i = index" #projectCard
                class="group relative w-[80vw] md:w-[60vw] lg:w-[45vw] h-[60vh] md:h-[70vh] rounded-3xl overflow-hidden cursor-none shadow-[0_0_40px_rgba(0,0,0,0.8)] border border-white/10 shrink-0"
                (mouseenter)="onCardHover($event, i)" (mouseleave)="onCardLeave()">

                <!-- Project Visual (Icon instead of Image) -->
                <div class="absolute inset-0 bg-black z-0 overflow-hidden flex items-center justify-center">
                    <!-- Dynamic Glowing Icon -->
                    <div
                        class="relative group-hover:scale-110 transition-transform duration-700 ease-out z-10 flex items-center justify-center w-full h-full">
                        <!-- Background Glow Orb -->
                        <div
                            class="absolute w-64 h-64 bg-brand-primary/20 rounded-full blur-[80px] group-hover:bg-brand-primary/40 transition-all duration-700">
                        </div>

                        <!-- The Icon -->
                        <div
                            class="relative z-20 text-white/20 group-hover:text-brand-primary transition-all duration-700 flex items-center justify-center">
                            <!-- Messages Icon -->
                            <svg *ngIf="project.icon === 'messages'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z">
                                </path>
                            </svg>
                            <!-- Shopping Cart Icon -->
                            <svg *ngIf="project.icon === 'shopping-cart'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">
                                </path>
                            </svg>
                            <!-- Search Icon -->
                            <svg *ngIf="project.icon === 'search'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            <!-- Gamepad Icon -->
                            <svg *ngIf="project.icon === 'gamepad'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2H7a2 2 0 01-2-2V5z">
                                </path>
                            </svg>
                            <!-- User Icon -->
                            <svg *ngIf="project.icon === 'user'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                            <!-- Utensils Icon -->
                            <svg *ngIf="project.icon === 'utensils'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4">
                                </path>
                            </svg>
                            <!-- Amazon/Box Icon -->
                            <svg *ngIf="project.icon === 'amazon'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                            </svg>
                            <!-- Building Icon -->
                            <svg *ngIf="project.icon === 'building'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">
                                </path>
                            </svg>
                            <!-- Home Icon -->
                            <svg *ngIf="project.icon === 'home'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
                                </path>
                            </svg>
                            <!-- Film Icon -->
                            <svg *ngIf="project.icon === 'film'"
                                class="w-32 h-32 md:w-48 md:h-48 drop-shadow-[0_0_30px_rgba(0,240,255,0.3)]" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
                                    d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z">
                                </path>
                            </svg>
                        </div>
                    </div>

                    <!-- Digital Grid Overlay -->
                    <div
                        class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:40px_40px] opacity-20 group-hover:opacity-40 transition-opacity">
                    </div>
                </div>

                <!-- Dark Overlay Gradient -->
                <div
                    class="absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent z-10 opacity-90 group-hover:opacity-70 transition-opacity duration-500">
                </div>

                <!-- Content Layer (Parallax Depth) -->
                <div
                    class="absolute inset-0 z-20 p-8 md:p-12 flex flex-col justify-end transform translate-y-8 group-hover:translate-y-0 transition-transform duration-700 ease-out">

                    <!-- Tech Stack -->
                    <div
                        class="flex flex-wrap gap-3 mb-6 transform -translate-x-4 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 transition-all duration-500 delay-100">
                        <span *ngFor="let tech of project.techStack"
                            class="px-4 py-1.5 glass-panel text-[10px] uppercase tracking-widest text-[#00f0ff] border-[#00f0ff]/30 shadow-[0_0_10px_rgba(0,240,255,0.2)] font-medium">
                            {{ tech }}
                        </span>
                    </div>

                    <!-- Title -->
                    <h3
                        class="text-4xl md:text-6xl font-black mb-4 tracking-tight drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]">
                        {{ project.title }}
                    </h3>

                    <!-- Description -->
                    <p
                        class="text-text-muted text-lg md:text-xl font-light max-w-2xl transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 delay-200">
                        {{ project.description }}
                    </p>

                    <!-- Cinematic Buttons -->
                    <div
                        class="flex items-center gap-6 mt-10 transform translate-y-8 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 delay-300">

                        <!-- Neon Demo Button -->
                        <a [href]="project.demoUrl" target="_blank"
                            class="relative px-8 py-4 bg-brand-primary/10 border border-brand-primary rounded-full overflow-hidden flex items-center gap-3 group/btn hover:bg-brand-primary hover:shadow-[0_0_30px_#00f0ff] transition-all duration-300">
                            <span
                                class="relative z-10 text-white font-bold uppercase tracking-widest text-sm group-hover/btn:text-black transition-colors">Launch
                                Experience</span>
                            <svg class="w-5 h-5 relative z-10 text-brand-primary group-hover/btn:text-black group-hover/btn:animate-pulse"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </a>

                        <!-- Terminal Code Button -->
                        <a [href]="project.codeUrl" target="_blank"
                            class="relative px-6 py-4 glass-panel border-white/20 hover:border-white/60 flex items-center gap-3 group/code overflow-hidden transition-colors">
                            <div
                                class="absolute inset-0 bg-white/5 translate-y-full group-hover/code:translate-y-0 transition-transform duration-300">
                            </div>
                            <span
                                class="relative z-10 font-mono text-sm text-text-muted group-hover/code:text-white transition-colors">~/source_code</span>
                            <svg class="w-5 h-5 relative z-10 text-text-muted group-hover/code:text-white"
                                fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Cursor Overlay -->
    <div #customCursor
        class="fixed top-0 left-0 w-32 h-32 rounded-full bg-white text-black font-bold uppercase tracking-widest text-[10px] flex items-center justify-center mix-blend-screen pointer-events-none opacity-0 scale-0 z-50 transform -translate-x-1/2 -translate-y-1/2 transition-transform duration-150 ease-out shadow-[0_0_30px_#fff]">
        Explore
    </div>

</section>